var b=Object.defineProperty;var _=(a,e,s)=>e in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var o=(a,e,s)=>_(a,typeof e!="symbol"?e+"":e,s);import{O as w,i as v,c,f as h,a as y,r as i,j as t,b as E,H as U}from"../assets/Header-CkfV8uKN.js";function $(a){return new w(function(e){v(a()).subscribe(e)})}class N{constructor(){o(this,"api_base","https://jsonplaceholder.typicode.com");o(this,"AddUser",e=>{let s=`${this.api_base}/users/`;return c.addRow(s,e)});o(this,"deleteUserById",e=>{let s=`${this.api_base}/users/`;return c.deleteRow(s,e)});o(this,"getUserById",e=>{let s=`${this.api_base}/users/`;const d=()=>c.getRowById(s,e);return $(()=>h(d()))});o(this,"getUsers",()=>{let e=`${this.api_base}/users`;return h(c.getRows(e))});o(this,"getUsersNoWait",async()=>{await y(500);let e=`${this.api_base}/users`;const s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch posts");return s.json()});this.initialize()}initialize(){}}var R=new N;function D(){const[a,e]=i.useState([]),[s,d]=i.useState(!0),[u,m]=i.useState(null),[g,p]=i.useState(null);i.useEffect(()=>{(async()=>{try{const n=await R.getUsersNoWait();e(n.slice(0,5))}catch(n){m(n instanceof Error?n.message:"Failed to load data")}finally{d(!1)}})()},[]);const f=(r,n)=>{r.preventDefault(),r.stopPropagation(),p(n),setTimeout(()=>{const l=a.filter(x=>x.id!==n);console.log("updatedCards=",l),e(l),console.log("users=",a),p(null)},300)};function j(r){return r.length>30?r.substring(0,30)+"...":r}return s?t.jsx("div",{className:"loader",children:"Loading..."}):u?t.jsx("div",{className:"error",children:u}):t.jsxs("main",{children:[t.jsx("h2",{children:"Welcome to Home"}),t.jsx("div",{className:"card-list",children:a.map((r,n)=>t.jsxs("div",{className:`card ${g===r.id?"removing":""}`,children:[t.jsxs("p",{children:[" ",r.id," - ",j(r.name)]}),t.jsxs("h5",{children:[" ",r.username,"$"]}),t.jsxs("h5",{children:[" ",r.email,"$"]}),t.jsx("button",{className:"delete-button",onClick:l=>f(l,r.id),children:"Delete"})]},n))})]})}const S=()=>t.jsxs(t.Fragment,{children:[t.jsx(U,{}),t.jsx(D,{})]}),A=document.getElementById("root"),I=E.createRoot(A);I.render(t.jsx(S,{}));
